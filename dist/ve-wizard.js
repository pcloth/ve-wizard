!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.veWizard=factory():root.veWizard=factory()}("undefined"!=typeof self?self:this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};__webpack_exports__.a={name:"ve-wizard",props:{options:{type:Object,default:function(){return null}},value:{type:Boolean,default:!1}},data:function(){return{thisChildrenIsWizard:!0,currentValue:this.value,currentOptions:{},defaultOptions:{position:"right",background:"#830000",helpTags:"点击获取本页操作帮助",hackDialogClassName:"el-dialog",disabled:!0,helpData:[{title:"帮助子标题",context:"帮助内容",ref:null}]},currentSubTitle:"当前帮助标题",currentContext:"当前帮助内容",lastIndex:null,lastPosition:"",lastZindex:0,offsetTop:0,offsetLeft:0,offsetWidth:0,offsetHeight:0,currentModeName:"只读模式",arrowPosition:"left",arrowDir:"bottom"}},computed:{question_mark_height:function(){var h="50px";return"right"!==this.currentOptions.position&&"left"!==this.currentOptions.position||(h="50px"),"top"!==this.currentOptions.position&&"bottom"!==this.currentOptions.position||(h="25px"),h}},watch:{currentValue:function(value){this.showStep(0),this.$emit("input",this.currentValue),this.$emit("change",this.currentValue),0==value&&this.changeLastFocusStyle()},value:function(){this.currentValue=this.value},options:function(){this.initOptions(this.options)}},created:function(){this.initOptions(this.options)},mounted:function(){},updated:function(){},methods:{help_info_div_top:function(){var allHeight=window.innerHeight,top=this.offsetTop+this.offsetHeight+50;return top>allHeight/2?(top=this.offsetTop-240,this.arrowDir="bottom"):this.arrowDir="top",top},help_info_div_left:function(){return this.offsetLeft+650>window.innerWidth?(this.arrowPosition="right",this.offsetLeft-(650-this.offsetWidth)):(this.arrowPosition="left",this.offsetLeft)},initOptions:function(propOptions){var tem_={},new_options=JSON.parse(JSON.stringify(this.defaultOptions));tem_="string"==typeof propOptions?propOptions.indexOf("{")>=0&&propOptions.indexOf("}")>=0?JSON.parse(propOptions):{}:propOptions;for(var key in tem_)new_options[key]=tem_[key];this.currentOptions=new_options},GoToNext:function(num){num>0&&this.currentOptions.helpData.length>this.lastIndex+num&&this.showStep(this.lastIndex+num),num<0&&this.lastIndex>0&&this.showStep(this.lastIndex+num)},showStep:function(sid){function findParent(node){if(node.$parent&&node.$parent.$children)for(var i in node.$parent.$children)if(node.$parent.$children[i].thisChildrenIsWizard)return node.$parent;return findParent(node.$parent)}var thisRef,parent=findParent(this),self=this;if("object"===_typeof(this.currentOptions)&&"object"===_typeof(this.currentOptions.helpData)&&this.currentOptions.helpData.length>sid){if("string"!=typeof this.currentOptions.helpData[sid].ref)return void(this.currentContext="帮助向导参数错误"+this.currentOptions.helpData[sid]+"的元素。");if(!(thisRef=parent.$refs[this.currentOptions.helpData[sid].ref]))return void(this.currentContext="没找到ref名字为"+this.currentOptions.helpData[sid].ref+"的元素。");thisRef=parent.$refs[this.currentOptions.helpData[sid].ref].$el?parent.$refs[this.currentOptions.helpData[sid].ref].$el:parent.$refs[this.currentOptions.helpData[sid].ref],this.offsetTop=function(element){for(var actualTop=element.offsetTop,current=element.offsetParent;null!==current&&(actualTop+=current.offsetTop,!(null!==(current=current.offsetParent)&&current.className.indexOf(self.currentOptions.hackDialogClassName)>=0)););return actualTop}(thisRef),this.offsetLeft=function(element){for(var actualLeft=element.offsetLeft,current=element.offsetParent;null!==current&&(actualLeft+=current.offsetLeft,!(null!==(current=current.offsetParent)&&current.className.indexOf(self.currentOptions.hackDialogClassName)>=0)););return actualLeft}(thisRef),this.offsetWidth=thisRef.offsetWidth,this.offsetHeight=thisRef.offsetHeight,this.changeLastFocusStyle(),0==this.currentOptions.disabled&&(this.lastPosition=thisRef.style.position,this.lastZindex=thisRef.style.zIndex,thisRef.style.position="relative",thisRef.style.zIndex=1e4),this.currentSubTitle=this.currentOptions.helpData[sid].title,this.currentContext=this.currentOptions.helpData[sid].context,this.lastIndex=sid}},changeLastFocusStyle:function(){var parent=this.$parent.$parent;if(0==this.currentOptions.disabled){if(this.currentModeName="引导操作模式",null!==this.lastIndex){var lastRef=void 0;lastRef=parent.$refs[this.currentOptions.helpData[this.lastIndex].ref],lastRef=parent.$refs[this.currentOptions.helpData[this.lastIndex].ref].$el?parent.$refs[this.currentOptions.helpData[this.lastIndex].ref].$el:parent.$refs[this.currentOptions.helpData[this.lastIndex].ref],lastRef.style.position=this.lastPosition,lastRef.style.zIndex=this.lastZindex}}else this.currentModeName="只读观看模式"}},components:{}}},function(module,exports,__webpack_require__){"use strict";function install(Vue){Vue.component(_veWizard2.default.name,_veWizard2.default)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.install=install;var _veWizard=__webpack_require__(2),_veWizard2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_veWizard);exports.default=_veWizard2.default},function(module,__webpack_exports__,__webpack_require__){"use strict";function injectStyle(ssrContext){__webpack_require__(3)}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ve_wizard_vue__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5293f2e5_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ve_wizard_vue__=__webpack_require__(5),normalizeComponent=__webpack_require__(4),__vue_styles__=injectStyle,Component=normalizeComponent(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ve_wizard_vue__.a,__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5293f2e5_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ve_wizard_vue__.a,!1,__vue_styles__,"data-v-5293f2e5",null);__webpack_exports__.default=Component.exports},function(module,exports){},function(module,exports){module.exports=function(rawScriptExports,compiledTemplate,functionalTemplate,injectStyles,scopeId,moduleIdentifier){var esModule,scriptExports=rawScriptExports=rawScriptExports||{},type=typeof rawScriptExports.default;"object"!==type&&"function"!==type||(esModule=rawScriptExports,scriptExports=rawScriptExports.default);var options="function"==typeof scriptExports?scriptExports.options:scriptExports;compiledTemplate&&(options.render=compiledTemplate.render,options.staticRenderFns=compiledTemplate.staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId=scopeId);var hook;if(moduleIdentifier?(hook=function(context){context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,context||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=injectStyles),hook){var functional=options.functional,existing=functional?options.render:options.beforeCreate;functional?(options._injectStyles=hook,options.render=function(h,context){return hook.call(context),existing(h,context)}):options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{esModule:esModule,exports:scriptExports,options:options}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{directives:[{name:"show",rawName:"v-show",value:!0===_vm.currentValue,expression:"currentValue===true"}],staticClass:"outer-layer",class:1==_vm.currentOptions.disabled?"disabled":"editor"},[_c("div",{staticClass:"spotlight",class:1==_vm.currentOptions.disabled?"disabled":"editor",style:"left:"+_vm.offsetLeft+"px;top:"+_vm.offsetTop+"px;width:"+_vm.offsetWidth+"px;height:"+_vm.offsetHeight+"px;"}),_vm._v(" "),_c("div",{staticClass:"help-info",style:"top:"+_vm.help_info_div_top()+"px;left:"+_vm.help_info_div_left()+"px;"},[_c("div",{class:"bubble-"+_vm.arrowDir+"-"+_vm.arrowPosition,style:"top:"+_vm.help_info_div_top()+"px;"}),_vm._v(" "),_c("div",{staticClass:"info-title"},[_vm._v("\n                "+_vm._s(_vm.currentSubTitle)+"\n                "),_c("span",{staticStyle:{float:"right","margin-right":"2rem",color:"rgba(0,0,0,0.4)","font-size":"14px"}},[_vm._v(_vm._s(_vm.currentModeName))])]),_vm._v(" "),_c("div",{staticClass:"info-close",attrs:{title:"关闭向导"},on:{click:function($event){_vm.currentValue=!1}}},[_c("i",{staticClass:"iconfont icon-close"})]),_vm._v(" "),_c("div",{staticClass:"info-context"},[_vm._t("help-context",[_c("div",{domProps:{innerHTML:_vm._s(_vm.currentContext)}})],{text:_vm.currentContext})],2),_vm._v(" "),_c("div",{staticClass:"info-footer"},[_c("button",{attrs:{disabled:_vm.lastIndex<=0},on:{click:function($event){_vm.GoToNext(-1)}}},[_vm._v("上一步")]),_vm._v(" "),_c("button",{on:{click:function($event){_vm.currentValue=!1}}},[_vm._v("关闭")]),_vm._v(" "),_c("button",{staticStyle:{float:"right"},attrs:{disabled:_vm.lastIndex+1>=_vm.currentOptions.helpData.length},on:{click:function($event){_vm.GoToNext(1)}}},[_vm._v("下一步")])])])]),_vm._v(" "),_c("div",{directives:[{name:"show",rawName:"v-show",value:!1===_vm.currentValue,expression:"currentValue===false"}],attrs:{title:_vm.currentOptions.helpTags},on:{click:function($event){_vm.currentValue=!0}}},[_vm._t("help-button",[_c("div",{staticClass:"helper",class:_vm.currentOptions.position,style:"top:"+_vm.currentOptions.top+";left:"+_vm.currentOptions.left+";right:"+_vm.currentOptions.right+";bottom:"+_vm.currentOptions.bottom+";background:"+_vm.currentOptions.background+";",attrs:{title:_vm.currentOptions.helpTags},on:{click:function($event){_vm.currentValue=!0}}},[_c("span",{style:"line-height: "+_vm.question_mark_height+";color: #fff;margin: 5px;"},[_vm._v("\n                        ?\n                    ")])])])],2)])},staticRenderFns=[],esExports={render:render,staticRenderFns:staticRenderFns};__webpack_exports__.a=esExports}])});